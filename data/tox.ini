# Main tox part
[tox]
requires =
    tox>=4
env_list = processing, py{38}

# Base tox configuration
[testenv]
description = base env information
deps =
    -r ../requirements.txt
commands =
    black --line-length 100 {posargs:.}
setenv =
    PYTHONPATH = ../HEP_deps/root/lib:src:{env:PYTHONPATH}

# Run processing configuration
[testenv:processing]
description = run processing part
allowlist_externals = find
deps =
    {[testenv]deps}
commands =
    {[testenv]commands}
    python processing.py \
    --reco="input/reco.root" \
    --particle="input/particle.root" \
    --reco-response="input/reco.root" \
    --particle-response="input/particle.root" \
    --output="output/unfolding_input.root"
